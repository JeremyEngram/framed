# FRAMED Configuration
name: framed

structure:
  root:
    maxDepth: 3 # Disallow dirs deeper than 3
    allowChildren: true
    required:
      files:
        - README.md
        - framed.yaml
        - main.go
        - go.mod
        - go.sum
        - .gitignore
    children:
      - cmd:
          required:
            patterns:
              - "*.go"
          forbidden:
            patterns:
              - "*_test.go" # Disallow tests in /src
      - pipelines:
          maxCount: 2
          required:
            patterns:
              - "*.yml"
              - "*.yaml" # only yaml files allowed
            files:
              - pr.yaml
      - dockerfiles:
          minCount: 1 # At least one file has to be there
          required:
            patterns:
              - "*.dockerfile"
      - docs:
          maxCount: 10 # No more than 10 files per dir
          allowChildren: true # Allow subdirectories creation, default false
          children:
            - design:
            - examples:
                allowChildren: true
                required:
                  files:
                    - example1.md
          required:
            patterns:
              - "*.md"
              - "*.txt"
